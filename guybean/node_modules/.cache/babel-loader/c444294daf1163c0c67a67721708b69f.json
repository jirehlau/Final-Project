{"ast":null,"code":"import _objectSpread from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./App.css';import{BrowserRouter,Route,Switch,Redirect}from'react-router-dom';import AddRestaurant from'./pages/AddRestaurant/AddRestaurant';import OrderHistoryPage from'./pages/OrderHistoryPage/OrderHistoryPage';import AuthPage from'./pages/AuthPage/AuthPage';import Index from'./pages/Index/Index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:null};_this.setUserInState=function(incomingUserData){_this.setState({user:incomingUserData});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var token=localStorage.getItem('token');if(token){// YOU DO: check expiry!\nvar userDoc=JSON.parse(atob(token.split('.')[1])).user;// decode jwt token\nthis.setState({user:userDoc});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"main\",{className:\"App\",children:this.state.user?/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/addRestaurant\",render:function render(props){return/*#__PURE__*/_jsx(AddRestaurant,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/orders\",render:function render(props){return/*#__PURE__*/_jsx(OrderHistoryPage,_objectSpread({},props));}}),/*#__PURE__*/_jsx(Route,{path:\"/\",render:function render(props){return/*#__PURE__*/_jsx(Index,_objectSpread({},props));}})]})}):/*#__PURE__*/_jsx(AuthPage,{setUserInState:this.setUserInState})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/src/App.js"],"names":["React","BrowserRouter","Route","Switch","Redirect","AddRestaurant","OrderHistoryPage","AuthPage","Index","App","state","user","setUserInState","incomingUserData","setState","token","localStorage","getItem","userDoc","JSON","parse","atob","split","props","Component"],"mappings":"kuBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,CAAuCC,QAAvC,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2CAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,C,2FAEMC,CAAAA,G,2TACJC,K,CAAQ,CACNC,IAAI,CAAC,IADC,C,OAIRC,c,CAAiB,SAACC,gBAAD,CAAsB,CACrC,MAAKC,QAAL,CAAc,CAAEH,IAAI,CAAEE,gBAAR,CAAd,EACD,C,gEAED,4BAAoB,CAClB,GAAIE,CAAAA,KAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ,CACA,GAAIF,KAAJ,CAAW,CACT;AACA,GAAIG,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACN,KAAK,CAACO,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,EAAsCX,IAApD,CAAyD;AACzD,KAAKG,QAAL,CAAc,CAACH,IAAI,CAAEO,OAAP,CAAd,EACD,CACF,C,sBAED,iBAAS,CACP,mBACE,aAAM,SAAS,CAAC,KAAhB,UACI,KAAKR,KAAL,CAAWC,IAAX,cACA,KAAC,aAAD,wBACE,MAAC,MAAD,yBAEE,KAAC,KAAD,EAAO,IAAI,CAAC,gBAAZ,CAA6B,MAAM,CAAE,gBAACY,KAAD,qBACnC,KAAC,aAAD,kBAAmBA,KAAnB,EADmC,EAArC,EAFF,cAKE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,MAAM,CAAE,gBAACA,KAAD,qBAC5B,KAAC,gBAAD,kBAAsBA,KAAtB,EAD4B,EAA9B,EALF,cAQE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,MAAM,CAAE,gBAACA,KAAD,qBACxB,KAAC,KAAD,kBAAWA,KAAX,EADwB,EAAxB,EARF,GADF,EADA,cAiBA,KAAC,QAAD,EAAU,cAAc,CAAE,KAAKX,cAA/B,EAlBJ,EADF,CAuBD,C,iBA1CeZ,KAAK,CAACwB,S,EA6CxB,cAAef,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport AddRestaurant from './pages/AddRestaurant/AddRestaurant';\nimport OrderHistoryPage from './pages/OrderHistoryPage/OrderHistoryPage';\nimport AuthPage from './pages/AuthPage/AuthPage';\nimport Index from './pages/Index/Index';\n\nclass App extends React.Component{\n  state = {\n    user:null,\n  }\n  \n  setUserInState = (incomingUserData) => {\n    this.setState({ user: incomingUserData})\n  }\n\n  componentDidMount() {\n    let token = localStorage.getItem('token')\n    if (token) {\n      // YOU DO: check expiry!\n      let userDoc = JSON.parse(atob(token.split('.')[1])).user // decode jwt token\n      this.setState({user: userDoc})      \n    }\n  }\n  \n  render() {\n    return (\n      <main className=\"App\">\n        { this.state.user ? \n          <BrowserRouter>\n            <Switch>\n       \n              <Route path='/addRestaurant' render={(props) => (\n                <AddRestaurant {...props}/>\n              )}/>\n              <Route path='/orders' render={(props) => (\n                <OrderHistoryPage {...props}/>\n              )}/>\n              <Route path='/' render={(props) => (\n              <Index {...props}/>\n              )}/>\n              {/* <Redirect to=\"/\" /> */}\n            </Switch>\n          </BrowserRouter>\n          :\n          <AuthPage setUserInState={this.setUserInState}/>\n        }\n      </main>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}