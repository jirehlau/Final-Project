{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/node_modules/@babel/runtime/helpers/esm/createSuper\";import'./OrderHistoryPage.css';import React from'react';import{Link}from'react-router-dom';import UserLogOut from'../../components/UserLogOut/UserLogOut';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderHistoryPage=/*#__PURE__*/function(_React$Component){_inherits(OrderHistoryPage,_React$Component);var _super=_createSuper(OrderHistoryPage);function OrderHistoryPage(){var _this;_classCallCheck(this,OrderHistoryPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={orderHistory:[]};return _this;}_createClass(OrderHistoryPage,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var jwt,fetchOrdersResponse,orders;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;jwt=localStorage.getItem('token');_context.next=4;return fetch('/api/orders',{headers:{'Authorization':'Bearer '+jwt}});case 4:fetchOrdersResponse=_context.sent;_context.next=7;return fetchOrdersResponse.json();case 7:orders=_context.sent;// <------- convert fetch response into a js object\n// put into sate\nthis.setState({orderHistory:orders});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('ERROR:',_context.t0);// <-- log if error\ncase 14:case\"end\":return _context.stop();}}},_callee,this,[[0,11]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"OrderHistoryPage\",children:[/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"My Restaurants\"})}),/*#__PURE__*/_jsx(\"div\",{})]});}}]);return OrderHistoryPage;}(React.Component);export default OrderHistoryPage;","map":{"version":3,"sources":["/Users/jirehlau/Documents/GA/12 Weeks/Projects/Final-Project/guybean/src/pages/OrderHistoryPage/OrderHistoryPage.jsx"],"names":["React","Link","UserLogOut","OrderHistoryPage","state","orderHistory","jwt","localStorage","getItem","fetch","headers","fetchOrdersResponse","json","orders","setState","console","error","Component"],"mappings":"u3BAAA,MAAO,wBAAP,CACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,wCAAvB,C,2FAEOC,CAAAA,gB,+WACLC,K,CAAQ,CACNC,YAAY,CAAE,EADR,C,uKAIR,sLAEQC,GAFR,CAEcC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAFd,uBAGoCC,CAAAA,KAAK,CAAC,aAAD,CAAgB,CAACC,OAAO,CAAE,CAAC,gBAAiB,UAAYJ,GAA9B,CAAV,CAAhB,CAHzC,QAGQK,mBAHR,qCAIuBA,CAAAA,mBAAmB,CAACC,IAApB,EAJvB,QAIQC,MAJR,eAImD;AAE/C;AACA,KAAKC,QAAL,CAAc,CAAET,YAAY,CAAEQ,MAAhB,CAAd,EAPJ,iFASIE,OAAO,CAACC,KAAR,CAAc,QAAd,cAA6B;AATjC,qE,mIAaA,iBAAS,CACP,mBACE,cAAM,SAAS,CAAC,kBAAhB,wBACE,kCACI,sCADJ,EADF,cAIE,cAJF,GADF,CAQD,C,8BA3B6BhB,KAAK,CAACiB,S,EA8BtC,cAAed,CAAAA,gBAAf","sourcesContent":["import './OrderHistoryPage.css';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport UserLogOut from '../../components/UserLogOut/UserLogOut';\n\n class OrderHistoryPage extends React.Component {\n  state = {\n    orderHistory: []\n  }\n\n  async componentDidMount() {\n    try {\n      let jwt = localStorage.getItem('token')\n      let fetchOrdersResponse = await fetch('/api/orders', {headers: {'Authorization': 'Bearer ' + jwt}})\n      let orders = await fetchOrdersResponse.json(); // <------- convert fetch response into a js object\n\n      // put into sate\n      this.setState({ orderHistory: orders})\n    } catch (err) {\n      console.error('ERROR:', err) // <-- log if error\n    }\n  }\n\n  render() {\n    return (\n      <main className=\"OrderHistoryPage\">\n        <nav>\n            <h1>My Restaurants</h1>\n        </nav>\n        <div></div>\n      </main>\n    )\n  }\n}\n\nexport default OrderHistoryPage;"]},"metadata":{},"sourceType":"module"}